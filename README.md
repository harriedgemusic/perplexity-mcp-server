# Perplexity MCP Server + VSCode Extension

MCP (Model Context Protocol) ัะตัะฒะตั, ะบะพัะพััะน ะฒััััะฟะฐะตั ะฒัะฐะฟะฟะตัะพะผ ะดะปั ะดะพัััะฟะฐ ะบ ะฒะตะฑ-ะฒะตััะธะธ Perplexity AI, ะธ VSCode ัะฐััะธัะตะฝะธะต ะดะปั ัะฐะฑะพัั ั ะฝะธะผ.

## ๐ฆ ะกัััะบัััะฐ ะฟัะพะตะบัะฐ

```
perplexity-mcp-server/
โโโ mcp-server/           # MCP ัะตัะฒะตั ั Playwright ะฐะฒัะพะผะฐัะธะทะฐัะธะตะน
โ   โโโ src/
โ   โ   โโโ index.ts      # ะัะฝะพะฒะฝะพะน ะบะพะด ัะตัะฒะตัะฐ
โ   โโโ package.json
โ   โโโ tsconfig.json
โ
โโโ vscode-extension/     # VSCode ัะฐััะธัะตะฝะธะต
โ   โโโ src/
โ   โ   โโโ extension.ts  # ะะพะด ัะฐััะธัะตะฝะธั
โ   โโโ media/
โ   โ   โโโ sidebar-icon.svg
โ   โโโ package.json
โ   โโโ tsconfig.json
โ
โโโ README.md
```

## ๐ ะฃััะฐะฝะพะฒะบะฐ ะธ ะทะฐะฟััะบ

### 1. ะฃััะฐะฝะพะฒะบะฐ ะทะฐะฒะธัะธะผะพััะตะน

```bash
# MCP Server
cd perplexity-mcp-server/mcp-server
npm install

# VSCode Extension
cd ../vscode-extension
npm install
```

### 2. ะกะฑะพัะบะฐ MCP ัะตัะฒะตัะฐ

```bash
cd perplexity-mcp-server/mcp-server
npm run build
```

### 3. ะะฐะฟััะบ MCP ัะตัะฒะตัะฐ

```bash
npm run dev
# ะธะปะธ
npm start
```

ะกะตัะฒะตั ะทะฐะฟัััะธั:
- **MCP Server** ะฝะฐ stdio (ะดะปั ะธะฝัะตะณัะฐัะธะธ ั AI ะบะปะธะตะฝัะฐะผะธ)
- **HTTP Server** ะฝะฐ ะฟะพััั 3333 (ะดะปั VSCode ัะฐััะธัะตะฝะธั)

### 4. ะฃััะฐะฝะพะฒะบะฐ VSCode ัะฐััะธัะตะฝะธั

#### ะกะฟะพัะพะฑ 1: ะะฐะทัะฐะฑะพัะบะฐ (ัะตะบะพะผะตะฝะดัะตััั)

```bash
cd perplexity-mcp-server/vscode-extension
npm run compile
```

ะะฐัะตะผ ะฒ VSCode:
1. ะัะบัะพะนัะต ะฟะฐะฟะบั `vscode-extension`
2. ะะฐะถะผะธัะต F5 ะดะปั ะทะฐะฟััะบะฐ ะฒ ัะตะถะธะผะต ะพัะปะฐะดะบะธ
3. ะัะบัะพะตััั ะฝะพะฒะพะต ะพะบะฝะพ VSCode ั ัััะฐะฝะพะฒะปะตะฝะฝัะผ ัะฐััะธัะตะฝะธะตะผ

#### ะกะฟะพัะพะฑ 2: ะะฐะบะตัะฝะฐั ัััะฐะฝะพะฒะบะฐ

```bash
cd perplexity-mcp-server/vscode-extension
npm install -g @vscode/vsce
npm run compile
vsce package
```

ะฃััะฐะฝะพะฒะธัะต ัะณะตะฝะตัะธัะพะฒะฐะฝะฝัะน `.vsix` ัะฐะนะป ัะตัะตะท:
- `Extensions` โ `...` โ `Install from VSIX...`

## ๐ง ะะพะฝัะธะณััะฐัะธั

### MCP Server

ะะตัะตะผะตะฝะฝัะต ะพะบััะถะตะฝะธั:

| ะะตัะตะผะตะฝะฝะฐั | ะะพ ัะผะพะปัะฐะฝะธั | ะะฟะธัะฐะฝะธะต |
|------------|--------------|----------|
| `MCP_HTTP_PORT` | `3333` | ะะพัั HTTP ัะตัะฒะตัะฐ |

### VSCode Extension

ะะฐัััะพะนะบะธ (Settings โ Perplexity MCP Client):

| ะะฐัะฐะผะตัั | ะะพ ัะผะพะปัะฐะฝะธั | ะะฟะธัะฐะฝะธะต |
|----------|--------------|----------|
| `perplexityMcp.serverUrl` | `http://localhost:3333` | URL MCP ัะตัะฒะตัะฐ |
| `perplexityMcp.defaultMode` | `concise` | ะะตะถะธะผ ะฟะพะธัะบะฐ ะฟะพ ัะผะพะปัะฐะฝะธั |
| `perplexityMcp.autoInit` | `true` | ะะฒัะพะธะฝะธัะธะฐะปะธะทะฐัะธั ะฟัะธ ััะฐััะต |

## ๐ฏ ะัะฟะพะปัะทะพะฒะฐะฝะธะต

### ะ VSCode

1. **ะะพะบะพะฒะฐั ะฟะฐะฝะตะปั**: ะะฐะถะผะธัะต ะฝะฐ ะธะบะพะฝะบั Perplexity ะฒ Activity Bar
2. **ะัััััะน ะฟะพะธัะบ**: `Ctrl+Shift+P` (ะธะปะธ `Cmd+Shift+P` ะฝะฐ Mac)
3. **ะะพะฝัะตะบััะฝะพะต ะผะตะฝั**: ะัะดะตะปะธัะต ัะตะบัั โ ะัะฐะฒัะน ะบะปะธะบ โ Perplexity: Search

### ะะตะถะธะผั ะฟะพะธัะบะฐ

- **Concise** - ะัััััะน ะฟะพะธัะบ ั ะบัะฐัะบะธะผ ะพัะฒะตัะพะผ
- **Copilot** - ะะฝัะตัะฐะบัะธะฒะฝัะน ัะตะถะธะผ ั ััะพัะฝะตะฝะธัะผะธ
- **Deep** - ะะปัะฑะพะบะธะน ะฐะฝะฐะปะธะท ั ะฟะพะดัะพะฑะฝัะผ ะพัะฒะตัะพะผ

### ะะพะผะฐะฝะดั

| ะะพะผะฐะฝะดะฐ | ะะฟะธัะฐะฝะธะต |
|---------|----------|
| `Perplexity: Search` | ะัััััะน ะฟะพะธัะบ |
| `Perplexity: Pro Search` | ะะปัะฑะพะบะธะน ะฟะพะธัะบ |
| `Perplexity: Initialize Session` | ะะตัะตะธะฝะธัะธะฐะปะธะทะฐัะธั ะฑัะฐัะทะตัะฐ |
| `Perplexity: Open Panel` | ะัะบัััั ะฑะพะบะพะฒัั ะฟะฐะฝะตะปั |

## ๐๏ธ ะััะธัะตะบัััะฐ

```
โโโโโโโโโโโโโโโโโโโ      HTTP/JSON      โโโโโโโโโโโโโโโโโโโโโโโ
โ  VSCode         โ โโโโโโโโโโโโโโโโโโโบ โ  MCP Server         โ
โ  Extension      โ                     โ  (Express + stdio)  โ
โ                 โ โโโโโโโโโโโโโโโโโโโ โ                     โ
โโโโโโโโโโโโโโโโโโโ      Response       โโโโโโโโโโโโฌโโโโโโโโโโโ
                                                     โ
                                                     โ Playwright
                                                     โผ
                                          โโโโโโโโโโโโโโโโโโโโโโโ
                                          โ  Perplexity Web     โ
                                          โ  (Browser)          โ
                                          โโโโโโโโโโโโโโโโโโโโโโโ
```

## ๐ ะะฐะถะฝัะต ะทะฐะผะตัะฐะฝะธั

### ะะฒัะพัะธะทะฐัะธั

ะัะธ ะฟะตัะฒะพะผ ะทะฐะฟััะบะต ะพัะบัะพะตััั ะฑัะฐัะทะตั. ะะฐะผ ะฝัะถะฝะพ:
1. ะะพะนัะธ ะฒ ะฐะบะบะฐัะฝั Perplexity (ะตัะปะธ ััะตะฑัะตััั)
2. ะะฐะฝะฝัะต ัะตััะธะธ ัะพััะฐะฝัััั ะฒ `./perplexity-user-data/`

### Stealth Mode

ะกะตัะฒะตั ะธัะฟะพะปัะทัะตั ัะตัะฝะธะบะธ ะพะฑัะพะดะฐ ะดะตัะตะบัะธะธ ะฐะฒัะพะผะฐัะธะทะฐัะธะธ:
- ะกะบัััะธะต `navigator.webdriver`
- ะัะฟะพะปัะทะพะฒะฐะฝะธะต ะฟะตััะธััะตะฝัะฝะพะณะพ ะบะพะฝัะตะบััะฐ ะฑัะฐัะทะตัะฐ
- ะงะตะปะพะฒะตะบะพ-ะฟะพะดะพะฑะฝะฐั ะทะฐะดะตัะถะบะฐ ะฟัะธ ะฒะฒะพะดะต

### ะะณัะฐะฝะธัะตะฝะธั

- ะขัะตะฑัะตััั ัััะฐะฝะพะฒะปะตะฝะฝัะน Chromium (Playwright ัััะฐะฝะพะฒะธั ะฐะฒัะพะผะฐัะธัะตัะบะธ)
- ะะปั ัะฐะฑะพัั ะฝัะถะตะฝ GUI ะธะปะธ ะฒะธัััะฐะปัะฝัะน ะดะธัะฟะปะตะน (Xvfb ะดะปั Linux server)
- ะะพะทะผะพะถะฝั ะธะทะผะตะฝะตะฝะธั ะฒ DOM Perplexity, ััะตะฑัััะธะต ะพะฑะฝะพะฒะปะตะฝะธั ัะตะปะตะบัะพัะพะฒ

## ๐๏ธ ะะฐะทัะฐะฑะพัะบะฐ

### MCP Server

```bash
cd mcp-server
npm run dev     # ะะฐะทัะฐะฑะพัะบะฐ ั hot reload
npm run build   # ะกะฑะพัะบะฐ
npm run lint    # ะัะพะฒะตัะบะฐ ะบะพะดะฐ
```

### VSCode Extension

```bash
cd vscode-extension
npm run compile   # ะะพะผะฟะธะปััะธั
npm run watch     # Watch ัะตะถะธะผ
npm run lint      # ะัะพะฒะตัะบะฐ ะบะพะดะฐ
npm run package   # ะกะพะทะดะฐะฝะธะต .vsix
```

## ๐ MCP Tools

ะกะตัะฒะตั ะฟัะตะดะพััะฐะฒะปัะตั ัะปะตะดัััะธะต MCP ะธะฝััััะผะตะฝัั:

### `perplexity_search`

```json
{
  "name": "perplexity_search",
  "arguments": {
    "query": "What is quantum computing?",
    "mode": "concise"
  }
}
```

### `perplexity_pro_search`

```json
{
  "name": "perplexity_pro_search",
  "arguments": {
    "query": "Latest developments in AI",
    "focus": "academic"
  }
}
```

### `perplexity_init`

```json
{
  "name": "perplexity_init",
  "arguments": {}
}
```

## ๐ค ะะฝัะตะณัะฐัะธั ั Claude Desktop

ะะพะฑะฐะฒััะต ะฒ ะบะพะฝัะธะณััะฐัะธั Claude Desktop (`~/Library/Application Support/Claude/claude_desktop_config.json`):

```json
{
  "mcpServers": {
    "perplexity": {
      "command": "node",
      "args": ["/path/to/perplexity-mcp-server/mcp-server/dist/index.js"]
    }
  }
}
```

## ๐ ะะธัะตะฝะทะธั

MIT License

## โ๏ธ Disclaimer

ะญัะพั ะฟัะพะตะบั ะฟัะตะดะฝะฐะทะฝะฐัะตะฝ ัะพะปัะบะพ ะดะปั ะพะฑัะฐะทะพะฒะฐัะตะปัะฝัั ัะตะปะตะน. ะัะฟะพะปัะทะพะฒะฐะฝะธะต ะผะพะถะตั ะฝะฐัััะฐัั Terms of Service Perplexity. ะัะฟะพะปัะทัะนัะต ะฝะฐ ัะฒะพะน ัะธัะบ.
